(()=>{"use strict";(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=e.querySelectorAll(".element>.element-content");e.addEventListener("click",(e=>{let o=e.target;if(o.closest(".element")){const e=o.closest(".element");t.forEach(((t,o)=>{t===e?(t.classList.add("active"),l[o].style.display="block"):(t.classList.remove("active"),l[o].style.display="none")}))}}))})(),(e=>{const t=document.querySelector(e),l=e=>{window.scroll({lefft:0,top:e.offsetTop,behavior:"smooth"})};t.addEventListener("click",(e=>{let t=e.target;const o=t.getAttribute("href").substring(1),s=document.getElementById(o);e.preventDefault(),t.closest("li>a")&&l(s)}));const o=document.querySelector(".up"),s=document.querySelector(".header-wrapper");o.style.opacity="0",o.addEventListener("click",(e=>{l(s)})),window.onscroll=()=>{window.pageYOffset>400?o.style.opacity="1":o.style.opacity="0"}})(".top-menu>ul"),(()=>{const e=document.querySelectorAll(".fancyboxModal"),t=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-callback");e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),t.style.display="block",l.style.display="block",window.screen.width>=768&&(({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function s(n){let r=(n-o)/l;r>1&&(r=1);let c=e(r);t(c),r<1&&requestAnimationFrame(s)}))})({duration:300,timing:e=>Math.pow(e,2),draw(e){t.style.opacity=100*e+"%",l.style.opacity=100*e+"%"}})}))})),t.addEventListener("click",(e=>{e.target.closest("modal-callback")||(t.style.display="none",l.style.display="none")})),l.addEventListener("click",(e=>{e.target.closest(".modal-close")&&(t.style.display="none",l.style.display="none")}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=e.querySelectorAll(".table");l[0].classList.add("active");let o=0;setInterval((()=>{l[o].classList.remove("active"),l[o].classList.add("active"),t.forEach(((e,t)=>{e.style.display=o===t?"block":"none"})),o+=1,o>=t.length&&o>=l.length&&(o=0)}),3e3)})(),(()=>{const e=document.querySelector(".services-elements"),t=document.querySelector(".services-carousel"),l=document.querySelectorAll(".services-carousel > div"),o=document.querySelector(".services-arrow"),s=document.querySelector(".arrow-left"),n=document.querySelector(".arrow-right");let r=0,c=3,a=100/c;e.style.overflow="hidden",t.style.display="flex",t.style.transition="transform 0.5s ease-in-out 0s",s.classList.add("disabled");const d=()=>{l.forEach((e=>{e.style.flex=`0 0 ${a}%`}))};d();window.addEventListener("resize",(()=>{const e=document.documentElement.clientWidth;c=e<870&&e>650?2:e<=650?1:3,a=100/c,d()})),o.addEventListener("click",(e=>{let o=e.target;const d=Math.round((l.length-c)*-a);o.closest(".arrow-left")?r<0?(n.classList.remove("disabled"),r+=a,t.style.transform=`translateX(${r}%)`):s.classList.add("disabled"):o.closest(".arrow-right")&&(r>d?(s.classList.remove("disabled"),n.classList.remove("disabled"),r-=a,t.style.transform=`translateX(${r}%)`):n.classList.add("disabled"))}))})(),(()=>{const e=document.createElement("div"),t=document.querySelector(".rf> form");document.body.addEventListener("input",(e=>{let t=e.target;"fio"===t.name?t.value=t.value.replace(/[^А-яа-яЁё-\s]/gi,""):"tel"===t.name&&(t.value=t.value.replace(/[^+\d]/g,""))}));t.addEventListener("submit",(l=>{l.preventDefault(),t.appendChild(e),((t,l)=>{t.preventDefault(),l.appendChild(e),e.textContent="Загрузка...";const o=new FormData(l);let s={};o.forEach(((e,t)=>{s[t]=e})),(e=>fetch("https://jsonplaceholder.typicode.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(s).then((t=>{if(200!==t.status)throw new Error("something wrong");e.style.cssText="\n                        color: green;\n                    ",e.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((t=>{e.style.cssText="\n                        color: red;\n                    ",e.textContent="Ой вей! Что-то не так...",console.error(t)}))})(l,t)}))})()})();